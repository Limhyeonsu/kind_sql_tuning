# 소트튜닝
## 5.1 소트 연산에 대한 이해
### 5.1.1 소트 수행 과정
소트는 기본적으로 PGA에 할당한 sort area에서 이루어진다. 메모리 공간인 sort area가 다 차면 디스크 Temp 테이블스페이스를 활용한다. 

* 메모리 소트 : 전체 데이터의 정렬 작업을 메모리 내에서 완료하는 것 'Internal Sort'
* 디스크 소트 : Sort Area 내에서 정렬을 완료하지 못해 디스크 공간까지 사용하는 경우 'External Sort'

소트 연산은 메모리 집약적일 뿐만 아니라 CPU 집약적이기도 하다. 처리할 데이터량이 많을 때는 디스크 I/O까지 발생하므로 쿼리 성능을 좌우하는 매우 중요한 요소다. 또 부분범위 처리를 불가능하게 함으로써 OLTP 환경에서 애플리케이션 성능을 저하시키는 주요인이 되기도 한다. 따라서 될 수 있으면 소트가 발생하지 않도록 SQL을 작성해야 하고, 소트가 불가피하다면 메모리내에서 수행을 완료할 수 있도록 해야 한다.

### 5.1.2 소트 오퍼레이션
__(1)Sort Aggregate__ : 전체 로우를 대상으로 집계를 수행할 때 나타난다. Sort라는 표현을 사용하지만 실제로 데이터를 정렬하진 않는다.

__(2)Sort Order By__ : 데이터를 정렬할 때 나타남

__(3)Sort Group By__ : 소팅 알고리즘을 사용해 그룹별 집계를 수행할 때 나타난다. (Hash Group By는 해싱 알고리즘을 사용한 방식으로 Group by 절 뒤에 Order By 절을 명시하지 않으면 대부분 Hash Group By 방식으로 처리함)

__(4)Sort Unique__ : 서브쿼리 Unnesting된 서브 쿼리가 M쪽 집합이면 메인 쿼리와 조인하기 전에 중복 레코드부터 제거해야한다. 이때 Sort Unique 오퍼레이션이 나타난다. 만약 PK/Unique 제약 또는 Unique 인덱스를 통해 Unnesting된 서브쿼리의 유일성이 보장된다면 Sort Unique 오퍼레이션은 생략된다. 또 집합연산자, distinct 연산자 사용시에도 Sort Unique 오퍼레이션이 나타난다.

__(5)Sort Join__ : 소트 머지 조인을 수행할 때 나타남

__(6)Window Sort__ : 윈도우 함수를 수행할 때 나타남
 